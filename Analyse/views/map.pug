extends layout

block content
    h2 Analyse Seite
    br
    p Hier können Sie die gemessenen Werte einer gewünschten SenseBox räumlich und Statistisch Analysieren
    h5 1. Eingabe der SenseBox ID zur Abfrage und Visualisierung: 
    p (Beispiele: Senden: 60f077874fb91e001c71b3b1 TestBox: 63c3f0c9a122c30008268cc0)
    input#userInput(style="width: 30%", type='text' placeholder='Sensebox ID')
    p
    button.btn-dark(style="width: 30%", onclick='fetchbox()') Submit
    p 
    .row.justify-content-md-left
        .col-lg-6.col-xs-12.mb-3
            .card.text-dark.p-4.border-success.cardanalysemap
                h3 Karte
                p Karte zur Visualisierung der vom Nutzer verlangten Messtation
                br
                #analysemap

            .card.text-dark.p-4.border-success.cardplotting
                h5 Plotting 
                form(method='post', action='/map')
                      button.btn.btn-dark() Plot anzeigen
                p Hier werden Plots dargestellt wie diese:
                p Struktur Plot:
                img(src= weblink , alt="")
                


        .col-lg-6.col-xs-12.mb-3
            .card.text-dark.p-4.border-success.cardanalysen
                .card.text-dark.p-4.border-success.card
                  h4 Anzeige aller gemessenen Werte eines nachgefragten Messstandorts mit Datum und Uhrzeit
                  h5 3. Eingabe der Start und Endzeit zur Abfrage und Ausgabe der in der Zeit gemessenen Lautstärken:
                  h6 Startzeit: (Beispiel: 2022-11-22T08:00)
                  input#starttimeInput(style="width: 100%", type='text' placeholder='Startzeit in YYYY-MM-DDThh:mm Beispiel:2022-11-23T08:00')
                  h6 Endzeit: (Beispiel: 2022-11-22T12:00)
                  input#endtimeInput(style="width: 100%", type='text' placeholder='Endzeit in YYYY-MM-DDThh:mm Beispiel:2022-11-22T10:00')
                  button.btn-dark(style="width: 30%", onclick='fetchbox()') Submit
                  br
                  table#resultTable 
                    tr
                      th
                        | Datum der Messung
                      th
                        | Dezibelwert

                  br
                  | Herunterladen der Lautstärkedaten:
                  br
                  download.button-dark#containerjson
                  br
                  p Herunterladen als CSV Datei:
                  a.i.fa.fa-download.btn.btndownload.btn-dark(role='button', href='https://api.opensensemap.org/boxes/60f077874fb91e001c71b3b1/data/60f077874fb91e001c71b3b2?download=true&format=csv')
                    
                
    script.
        // Set active Button
        document.querySelectorAll(".active")[0].classList.remove("active");
        document.querySelectorAll(".nav-link")[3].classList.add("active");
    script(src='/js/analyse.js')